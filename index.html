<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<title>Calendario de Adviento Â· AnxanWoman</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />

<style>
/* â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
   ESTILOS LIMPIOS (SIN NIEVE / SIN MODO NAVIDAD)
   â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” */

:root {
  --bg: #0f172a;
  --panel: #1e293b;
  --accent: #60a5fa;
  --text: #f1f5f9;
  --muted: #94a3b8;
  --directo: #fb7185;
  --clip: #22c55e;
  --radius: 20px;
}

* { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }
body {
  background: radial-gradient(circle at top, #1e3a8a, #0f172a);
  padding: 20px;
  color: var(--text);
}

.app {
  max-width: 1100px;
  margin: auto;
  background: var(--panel);
  padding: 20px;
  border-radius: var(--radius);
  border: 1px solid rgba(255,255,255,.1);
}

h1 { font-size: 1.6rem; margin-bottom: 4px; }
.subtitle { font-size: .85rem; color: var(--muted); margin-bottom: 15px; }

.calendar {
  background: #0f172a;
  padding: 20px;
  border-radius: var(--radius);
  border: 1px solid rgba(255,255,255,.1);
}
.grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 12px;
}

@media(max-width: 700px){ .grid { grid-template-columns: repeat(4,1fr);} }

.day {
  background: #1e293b;
  border-radius: 16px;
  padding: 10px;
  position: relative;
  aspect-ratio: 1/1;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  border: 1px solid rgba(255,255,255,.1);
  transition: .15s;
}

.day:hover { transform: translateY(-4px); }
.day.opened { border-color: gold; box-shadow: 0 0 10px gold; }
.day.special { border-color: gold; box-shadow: 0 0 20px gold; }

.day-number-center {
  font-size: 1.8rem;
  font-weight: 700;
}

.day-icon { position: absolute; top: 8px; left: 10px; font-size: 1.1rem; }
.day-star { position: absolute; bottom: 8px; right: 10px; font-size: 1.2rem; }

/* MODAL â€”â€”â€”â€”â€”â€”â€” */
.modal-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.7);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 1000;
}
.modal-backdrop.visible { display: flex; }
.modal {
  background: #1e293b;
  padding: 20px;
  border-radius: 16px;
  max-width: 450px;
  width: 90%;
  border: 1px solid rgba(255,255,255,.2);
  animation: pop .25s ease;
}

@keyframes pop {
  0% { transform: scale(.9); opacity: 0; }
  100% { transform: scale(1); opacity: 1; }
}

/* TOAST CENTRAL (MENSAJES DE CASILLA FUTURA) */
.center-toast {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: #1e293b;
  padding: 18px 22px;
  border-radius: 14px;
  font-size: .9rem;
  border: 1px solid rgba(255,255,255,.2);
  z-index: 2000;
  opacity: 0;
  animation: fadeIn .25s forwards;
  text-align: center;
  max-width: 300px;
}
@keyframes fadeIn {
  from { opacity: 0; transform: translate(-50%, -46%); }
  to { opacity: 1; transform: translate(-50%, -50%); }
}

.filter-btn {
  padding: 6px 12px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,.2);
  background: #1e293b;
  color: var(--muted);
  cursor: pointer;
}
.filter-btn.active { border-color: var(--accent); color: var(--accent); }
</style>
</head>
<body>
<div class="app">
  <h1>ğŸ„ Calendario de Adviento Â· AnxanWoman</h1>
  <p class="subtitle">Haz clic en una casilla para ver el evento del dÃ­a</p>

  <div class="calendar">
    <div class="filters">
      <button class="filter-btn active" data-filter="todos">Todos</button>
      <button class="filter-btn" data-filter="directos">Directos</button>
      <button class="filter-btn" data-filter="clips">Clips</button>
    </div>

    <div class="grid" id="calendarGrid"></div>
  </div>
</div>

<!-- MODAL PRINCIPAL -->
<div class="modal-backdrop" id="modalBackdrop">
  <div class="modal" id="modal">
    <h2 id="modalTitle">DÃ­a X</h2>
    <p id="modalDesc" style="margin-top:10px; line-height:1.5;"></p>
  </div>
</div>

<script>
const YEAR = 2025;

const DIRECTO_DAYS = [1,2,5,8,9,10,12,14,15,17,19,21,22,26,27];
const BIG_PRIZE_DAYS = [5,14,21,27];

/* â€”â€”â€”â€”â€” CONFIGURACIÃ“N DE DÃAS â€”â€”â€”â€”â€” */
const days = {
1:`PresentaciÃ³n del calendario.<br><br>Directo 18:30 (EspaÃ±a).`,
2:`Directo sorpresa.<br>17:00 - 19:15`,
3:`Clip + sorteo.`,
4:`Clip + participaciÃ³n doble.`,
5:`Fashion Show con premios:<br>1200 / 800 / 500 pavos`,
6:`Short resumen del Fashion Show.`,
7:`Clip resumen semanal.`,
8:`Mini directo IRL en Madrid.`,
9:`Directo Fortnite: privadas 17:00 - 19:15`,
10:`Directo sorpresa comunidad 18:30 - 21:30`,
11:`Clip especial: adivina respuesta.`,
12:`Privada temÃ¡tica.`,
13:`Clip mejores momentos.`,
14:`DÃ­a de sorteo: 1200 pavos.`,
15:`Directo Fortnite + menciones.`,
16:`Clip nÂº4 + participaciÃ³n extra.`,
17:`Directo: anuncio del sorteo final.`,
18:`Clip anuncio del sorteo.`,
19:`Privadas.`,
20:`Clip resumen semanal.`,
21:`DIRECTO SORTEO (LoterÃ­a).`,
22:`Directo 18:30 - 21:30`,
23:`Clip mejores momentos.`,
24:`NOCHEBUENA (descanso).`,
25:`NAVIDAD (descanso).`,
26:`Directo postnavidad.`,
27:`Campanadas + REWIND + Sorteo doble de 1800 pavos.`
};

/* â€”â€”â€”â€”â€” GENERAR CALENDARIO â€”â€”â€”â€”â€” */
const grid = document.getElementById("calendarGrid");
const modalBackdrop = document.getElementById("modalBackdrop");
const modalTitle = document.getElementById("modalTitle");
const modalDesc = document.getElementById("modalDesc");

const todayReal = new Date();
const todayIsDec = todayReal.getMonth() === 11 && todayReal.getFullYear() === YEAR;
const todayDay = todayIsDec ? todayReal.getDate() : null;

function showCenterToast(msg){
  const t = document.createElement("div");
  t.className = "center-toast";
  t.innerHTML = msg;
  document.body.appendChild(t);
  setTimeout(()=> t.remove(), 2200);
}

function createCard(day){
  const btn = document.createElement("div");
  btn.className = "day";
  btn.dataset.day = day;

  const mode = DIRECTO_DAYS.includes(day) ? "directo" : (day===24||day===25?"none":"clip");
  const icon = mode === "directo" ? "ğŸ¥" : mode==="clip" ? "ğŸ“±" : "ğŸ„";

  if (BIG_PRIZE_DAYS.includes(day)) btn.innerHTML += `<span class='day-star'>â­</span>`;

  btn.innerHTML += `
    <span class="day-icon">${icon}</span>
    <span class="day-number-center">${day}</span>
  `;

  if(day === 27) btn.classList.add("special");

  btn.addEventListener("click", () =>{

    if(todayIsDec && day > todayDay){
      showCenterToast("AÃºn no puedes abrir esta casilla âœ¨");
      return;
    }

    modalTitle.textContent = `DÃ­a ${day}`;
    modalDesc.innerHTML = days[day].replace(/
/g,"<br>");
    modalBackdrop.classList.add("visible");
  });

  return btn;
}
or (let i=1;i<=27;i++) grid.appendChild(createCard(i));

modalBackdrop.addEventListener("click", (e)=>{
  if(e.target===modalBackdrop) modalBackdrop.classList.remove("visible");
});

/* â€”â€”â€”â€”â€” FILTROS â€”â€”â€”â€”â€” */
const filterBtns = document.querySelectorAll(".filter-btn");
filterBtns.forEach(btn=>{
  btn.addEventListener("click",()=>{
    filterBtns.forEach(b=>b.classList.remove("active"));
    btn.classList.add("active");

    const f = btn.dataset.filter;

    document.querySelectorAll(".day").forEach(card=>{
      const d = Number(card.dataset.day);
      const mode = DIRECTO_DAYS.includes(d) ? "directos" : "clips";

      card.style.opacity = 1;

      if(f!=="todos" && f!==mode) card.style.opacity = .35;
    });
  });
});

// â€”â€”â€” EASTER EGGS â€”â€”â€”
let eggShownToday = JSON.parse(localStorage.getItem("eggs_shown")) || {};
const todayKey = new Date().toISOString().slice(0,10);
if(!eggShownToday[todayKey]) eggShownToday[todayKey] = {prev:false,prize:false,d27:false,off:false,secret:false};
function saveEggs(){ localStorage.setItem("eggs_shown", JSON.stringify(eggShownToday)); }

function showEgg(type,msg){
 if(eggShownToday[todayKey][type]) return;
 eggShownToday[todayKey][type] = true;
 saveEggs();
 showCenterToast(msg);
}

// DÃ­a anterior
function checkPreviousDay(day){
 if(todayIsDec && day === todayDay-1)
 showEgg("prev","Uyâ€¦ esto ya pasÃ³ ğŸ‘€<br>Â¡OjalÃ¡ tener una mÃ¡quina del tiempo!");
}

// Premio futuro
function checkPrizeDay(day){
 if(BIG_PRIZE_DAYS.includes(day) && todayIsDec && day > todayDay)
 showEgg("prize","Â¡QuÃ© impaciente eres! â­<br>Todo llega a su tiempo.");
}

// DÃ­a 27 anticipado
function check27(day){
 if(day===27 && todayIsDec && 27>todayDay)
 showEgg("d27","Â¿Las campanadas ya? ğŸ˜³<br>AÃºn falta un poquito ğŸ†");
}

// Toque fuera del calendario
window.addEventListener("click",(e)=>{
 if(e.target===document.body || e.target===document.documentElement)
 showEgg("off","Â¿Buscando la casilla secreta? ğŸ‘€<br>QuizÃ¡ aparezcaâ€¦ algÃºn dÃ­a.");
});

// Regalo oculto (zona final)
window.addEventListener("scroll",()=>{
 if(window.scrollY + window.innerHeight >= document.documentElement.scrollHeight - 30)
 showEgg("secret","Â¡Encontraste el regalo escondido! ğŸ<br>Â¡Eres un crack investigando!");
});

// Integrar en click de casilla
const oldCreate = createCard;
createCard = function(day){
 const btn = oldCreate(day);
 btn.addEventListener("click",()=>{
   checkPreviousDay(day);
   checkPrizeDay(day);
   check27(day);
 });
 return btn;
};
</script>
</body>
</html>
